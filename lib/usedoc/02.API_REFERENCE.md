# API å‚è€ƒæ–‡æ¡£

## ğŸ“š ç›®å½•

- [è®¤è¯æ¨¡å— (Auth)](#è®¤è¯æ¨¡å—-auth)
- [æ”¯ä»˜æ¨¡å— (Payment)](#æ”¯ä»˜æ¨¡å—-payment)
- [åœ°ç†è·¯ç”±æ¨¡å— (Geo)](#åœ°ç†è·¯ç”±æ¨¡å—-geo)
- [æ•°æ®åº“æ¨¡å— (Database)](#æ•°æ®åº“æ¨¡å—-database)
- [åˆè§„æ¨¡å— (Compliance)](#åˆè§„æ¨¡å—-compliance)
- [é…ç½®ç®¡ç†æ¨¡å— (Config)](#é…ç½®ç®¡ç†æ¨¡å—-config)
- [å·¥å…·å‡½æ•°æ¨¡å— (Utils)](#å·¥å…·å‡½æ•°æ¨¡å—-utils)
- [å·¥å‚å‡½æ•° (Factory)](#å·¥å‚å‡½æ•°-factory)

---

## è®¤è¯æ¨¡å— (Auth)

### ä¸»è¦æ¥å£

#### `getAuth(region?: DeploymentRegion): AuthAdapter`

è·å–è®¤è¯é€‚é…å™¨å®ä¾‹ã€‚

```typescript
import { getAuth, DeploymentRegion } from '@/auth';

// è‡ªåŠ¨æ£€æµ‹åŒºåŸŸ
const auth = getAuth();

// æŒ‡å®šåŒºåŸŸ
const authCN = getAuth(DeploymentRegion.CN);
const authINTL = getAuth(DeploymentRegion.INTL);
```

#### `auth` å®¢æˆ·ç«¯

ç»Ÿä¸€çš„è®¤è¯å®¢æˆ·ç«¯æ¥å£ã€‚

```typescript
import { auth } from '@/auth';

// é‚®ç®±å¯†ç ç™»å½•
const result = await auth.signInWithPassword({
  email: 'user@example.com',
  password: 'password123'
});

// é‚®ç®±å¯†ç æ³¨å†Œ
const signUpResult = await auth.signUp({
  email: 'user@example.com',
  password: 'password123'
});

// OAuthç™»å½•
await auth.signInWithOAuth({
  provider: 'google',
  options: { redirectTo: '/dashboard' }
});

// ç™»å‡º
await auth.signOut();

// è·å–å½“å‰ç”¨æˆ·
const { data: { user } } = await auth.getUser();

// ç›‘å¬è®¤è¯çŠ¶æ€å˜åŒ–
const { data: { subscription } } = auth.onAuthStateChange((event, session) => {
  console.log('è®¤è¯çŠ¶æ€å˜åŒ–:', event, session);
});
```

### è®¤è¯é€‚é…å™¨æ¥å£

```typescript
interface AuthAdapter {
  // é‚®ç®±è®¤è¯
  signInWithEmail(email: string, password: string): Promise<AuthResponse>;
  signUpWithEmail(email: string, password: string): Promise<AuthResponse>;

  // OAuthè®¤è¯
  signInWithOAuth(provider: 'google' | 'github'): Promise<void>;

  // å¾®ä¿¡è®¤è¯ (ä»…ä¸­å›½åŒº)
  signInWithWeChat(code: string): Promise<AuthResponse>;

  // ç”¨æˆ·ç®¡ç†
  getCurrentUser(): Promise<User | null>;
  updateUser(userId: string, updates: Partial<User>): Promise<User>;

  // ä¼šè¯ç®¡ç†
  signOut(): Promise<void>;
  isAuthenticated(): Promise<boolean>;

  // å¯†ç é‡ç½®
  resetPassword(email: string): Promise<void>;
  updatePassword(userId: string, newPassword: string): Promise<void>;
}
```

---

## æ”¯ä»˜æ¨¡å— (Payment)

### ä¸»è¦æ¥å£

#### `PaymentRouter`

æ”¯ä»˜è·¯ç”±å™¨ï¼Œå¤„ç†å¤šæ”¯ä»˜æä¾›å•†ã€‚

```typescript
import { PaymentRouter, RegionType } from '@/payment';

const paymentRouter = new PaymentRouter();

// æ³¨å†Œæ”¯ä»˜æä¾›å•†
paymentRouter.registerProvider('stripe', stripeProvider);
paymentRouter.registerProvider('alipay', alipayProvider);

// åˆ›å»ºæ”¯ä»˜è®¢å•
const order = {
  amount: 99.99,
  currency: 'USD',
  description: 'Premium subscription',
  userId: 'user123',
  planType: 'premium',
  billingCycle: 'monthly'
};

const result = await paymentRouter.createPayment(RegionType.USA, order);
```

#### æ”¯ä»˜é…ç½®å‡½æ•°

```typescript
import {
  getPricingByMethod,
  getCurrencyByPaymentMethod,
  convertCurrency,
  formatAmount
} from '@/payment';

// è·å–å®šä»·ä¿¡æ¯
const pricing = getPricingByMethod('stripe', 'INTL');
console.log(pricing.monthly); // 15.99 USD

// è·å–è´§å¸ç±»å‹
const currency = getCurrencyByPaymentMethod('alipay'); // 'CNY'

// è´§å¸è½¬æ¢
const converted = convertCurrency(100, 'USD', 'CNY'); // 730 CNY

// æ ¼å¼åŒ–é‡‘é¢ (è½¬æ¢ä¸ºæœ€å°è´§å¸å•ä½)
const formatted = formatAmount(10.99, 'USD'); // 1099 (åˆ†)
```

### æ”¯ä»˜è®¢å•æ¥å£

```typescript
interface PaymentOrder {
  amount: number;
  currency: string;
  description: string;
  userId: string;
  planType: string;
  billingCycle: 'monthly' | 'yearly';
  metadata?: Record<string, any>;
}
```

### æ”¯ä»˜ç»“æœæ¥å£

```typescript
interface PaymentResult {
  success: boolean;
  paymentId?: string;
  paymentUrl?: string;
  error?: string;
  provider?: string;
}
```

---

## åœ°ç†è·¯ç”±æ¨¡å— (Geo)

### ä¸»è¦æ¥å£

#### `GeoRouter`

åœ°ç†ä½ç½®æ£€æµ‹å’Œè·¯ç”±ã€‚

```typescript
import { GeoRouter } from '@/geo';

const geoRouter = new GeoRouter();

// æ£€æµ‹ç”¨æˆ·ä½ç½®
const result = await geoRouter.detect('8.8.8.8');
console.log(result);
// {
//   region: 'USA',
//   countryCode: 'US',
//   currency: 'USD',
//   paymentMethods: ['stripe', 'paypal'],
//   database: 'supabase',
//   deployment: 'vercel',
//   gdprCompliant: false
// }

// è·å–æ¨èé…ç½®
const config = geoRouter.getRecommendedConfig(result.region);

// æ¸…é™¤ç¼“å­˜
geoRouter.clearCache();

// è·å–ç¼“å­˜ç»Ÿè®¡
const stats = geoRouter.getCacheStats();
```

#### IPæ£€æµ‹å·¥å…·

```typescript
import {
  getClientIP,
  isPrivateIP,
  getRegionFromCountryCode,
  isEuropeanCountry,
  getDefaultLanguage
} from '@/geo';

// è·å–å®¢æˆ·ç«¯IP
const ip = getClientIP(req); // Expressè¯·æ±‚å¯¹è±¡

// æ£€æŸ¥æ˜¯å¦ä¸ºç§æœ‰IP
const isPrivate = isPrivateIP('192.168.1.1'); // true

// ä»å›½å®¶ä»£ç è·å–åŒºåŸŸ
const region = getRegionFromCountryCode('CN'); // 'CHINA'

// æ£€æŸ¥æ˜¯å¦ä¸ºæ¬§æ´²å›½å®¶
const isEU = isEuropeanCountry('DE'); // true

// è·å–é»˜è®¤è¯­è¨€
const language = getDefaultLanguage('CN'); // 'zh'
```

### åœ°ç†æ£€æµ‹ç»“æœæ¥å£

```typescript
interface GeoResult {
  region: RegionType;
  countryCode: string;
  currency: string;
  paymentMethods: string[];
  database: string;
  deployment: string;
  gdprCompliant: boolean;
  timestamp: Date;
}
```

---

## æ•°æ®åº“æ¨¡å— (Database)

### ä¸»è¦æ¥å£

#### `createDatabaseConnector(type, config)`

åˆ›å»ºæ•°æ®åº“è¿æ¥å™¨ã€‚

```typescript
import { createDatabaseConnector, initDatabase } from '@/database';

// æ‰‹åŠ¨åˆ›å»ºè¿æ¥å™¨
const connector = createDatabaseConnector('supabase', {
  url: 'https://your-project.supabase.co',
  anonKey: 'your-anon-key'
});

await connector.initialize();
const client = connector.getClient();

// ä¾¿æ·åˆå§‹åŒ–
const db = await initDatabase({
  type: 'cloudbase',
  envId: 'your-env-id'
});
```

#### æ•°æ®åº“è¿æ¥å™¨æ¥å£

```typescript
interface DatabaseConnector {
  initialize(config: DatabaseConfig): Promise<void>;
  getClient(): any;
  testConnection(): Promise<boolean>;
  close(): Promise<void>;
}
```

#### Supabaseè¿æ¥å™¨

```typescript
import { SupabaseConnector } from '@/database/connectors/supabase-connector';

const supabase = new SupabaseConnector({
  url: 'https://your-project.supabase.co',
  anonKey: 'your-anon-key'
});

await supabase.initialize();
const client = supabase.getClient();

// ä½¿ç”¨Supabaseå®¢æˆ·ç«¯
const { data, error } = await client
  .from('users')
  .select('*')
  .eq('id', userId);
```

#### CloudBaseè¿æ¥å™¨

```typescript
import { CloudBaseConnector } from '@/database/connectors/cloudbase-connector';

const cloudbase = new CloudBaseConnector({
  envId: 'your-env-id'
});

await cloudbase.initialize();
const db = cloudbase.getClient();

// ä½¿ç”¨CloudBaseæ•°æ®åº“
const result = await db.collection('users')
  .where({ _id: userId })
  .get();
```

---

## åˆè§„æ¨¡å— (Compliance)

### ä¸»è¦æ¥å£

#### `GDPRComplianceManager`

GDPRåˆè§„æ€§ç®¡ç†å™¨ã€‚

```typescript
import { GDPRComplianceManager, createGDPRComplianceManager } from '@/compliance/gdpr';

const gdprManager = new GDPRComplianceManager({
  enableUserConsent: true,
  dataRetentionPeriod: 365,
  cookieConsentRequired: true,
  anonymizationEnabled: true,
  rightToBeForgotten: true
});

// æ£€æŸ¥GDPRç®¡è¾–æƒ
const isGDPRApplicable = gdprManager.isUserInGDPRJurisdiction('DE');

// ç”ŸæˆåŒæ„ä¹¦æ¨¡æ€æ¡†
const consentModal = gdprManager.generateConsentModal('en');
document.body.innerHTML += consentModal;

// ä¿å­˜ç”¨æˆ·åŒæ„è®°å½•
const consentRecord = await gdprManager.saveConsentRecord({
  userId: 'user123',
  ipAddress: '192.168.1.1',
  userAgent: navigator.userAgent,
  purposes: {
    necessary: true,
    functional: true,
    analytics: false,
    marketing: false
  }
});

// åˆ›å»ºæ•°æ®ä¸»ä½“è¯·æ±‚
const request = await gdprManager.createDataSubjectRequest(
  'user123',
  'erasure',
  { reason: 'User request' }
);

// å¤„ç†æ•°æ®åˆ é™¤è¯·æ±‚
await gdprManager.processErasureRequest('user123');

// åŒ¿ååŒ–ç”¨æˆ·æ•°æ®
const anonymizedData = gdprManager.anonymizeUserData({
  email: 'user@example.com',
  name: 'John Doe',
  phone: '+1234567890'
});
```

#### ä¾¿æ·å‡½æ•°

```typescript
import {
  applyGDPRCompliance,
  isGDPRComplianceRequired,
  generatePrivacyPolicy
} from '@/compliance';

// åº”ç”¨GDPRåˆè§„æ€§
const compliance = applyGDPRCompliance('DE', gdprConfig);

// æ£€æŸ¥æ˜¯å¦éœ€è¦GDPRåˆè§„
const needsGDPR = isGDPRComplianceRequired('US'); // false

// ç”Ÿæˆéšç§æ”¿ç­–
const policy = generatePrivacyPolicy('en', 'DE');
const policyHTML = generatePrivacyPolicyHTML('en', 'DE');
```

#### éšç§æ”¿ç­–ç”Ÿæˆ

```typescript
import { generateTermsOfService } from '@/compliance/privacy-policy';

// ç”Ÿæˆéšç§æ”¿ç­–
const privacyPolicy = generatePrivacyPolicy('zh', 'CN');

// ç”ŸæˆæœåŠ¡æ¡æ¬¾
const termsOfService = generateTermsOfService('en');
```

### GDPRé…ç½®æ¥å£

```typescript
interface GDPRComplianceConfig {
  enableUserConsent: boolean;
  dataRetentionPeriod: number;
  cookieConsentRequired: boolean;
  anonymizationEnabled: boolean;
  rightToBeForgotten: boolean;
}
```

---

## é…ç½®ç®¡ç†æ¨¡å— (Config)

### ä¸»è¦æ¥å£

#### éƒ¨ç½²é…ç½®

```typescript
import {
  deploymentConfig,
  isChinaDeployment,
  isInternationalDeployment,
  getAuthProvider,
  getDatabaseProvider
} from '@/config/deployment';

// è·å–å½“å‰é…ç½®
console.log(deploymentConfig.region); // 'CN' | 'INTL'

// æ£€æŸ¥éƒ¨ç½²ç±»å‹
if (isChinaDeployment()) {
  console.log('ä¸­å›½åŒºåŸŸéƒ¨ç½²');
}

// è·å–æä¾›å•†
const authProvider = getAuthProvider(); // 'cloudbase' | 'supabase'
const dbProvider = getDatabaseProvider(); // 'cloudbase' | 'supabase'
```

#### åŠŸèƒ½æ”¯æŒæ£€æŸ¥

```typescript
import {
  isAuthFeatureSupported,
  getPaymentProviders,
  isPaymentMethodSupported
} from '@/config/deployment';

// æ£€æŸ¥è®¤è¯åŠŸèƒ½
const hasEmailAuth = isAuthFeatureSupported('emailAuth');
const hasWechatAuth = isAuthFeatureSupported('wechatAuth');

// è·å–æ”¯æŒçš„æ”¯ä»˜æ–¹å¼
const paymentMethods = getPaymentProviders(); // ['stripe', 'paypal']

// æ£€æŸ¥ç‰¹å®šæ”¯ä»˜æ–¹å¼
const supportsAlipay = isPaymentMethodSupported('alipay');
```

#### æ¶æ„é…ç½®åˆ›å»º

```typescript
import { createArchitectureConfig } from '@/config/deployment';

const config = createArchitectureConfig(DeploymentRegion.CN, {
  database: {
    type: 'cloudbase',
    envId: 'your-env-id'
  },
  auth: {
    provider: 'cloudbase',
    features: {
      emailAuth: true,
      wechatAuth: true
    }
  }
});
```

#### åŒºåŸŸé…ç½®

```typescript
import {
  RegionConfig,
  getDEPLOY_REGION,
  isChinaRegion,
  validateRegionConfig
} from '@/config/region';

// è·å–åŒºåŸŸä¿¡æ¯
console.log(RegionConfig.current); // 'CN' | 'INTL'
console.log(RegionConfig.isChina); // boolean

// éªŒè¯é…ç½®
const validation = validateRegionConfig();
if (!validation.valid) {
  console.error('é…ç½®é”™è¯¯:', validation.errors);
}
```

---

## å·¥å…·å‡½æ•°æ¨¡å— (Utils)

### é”™è¯¯å¤„ç†å·¥å…·

```typescript
import {
  ArchitectureError,
  classifyError,
  fetchWithTimeout,
  withRetry,
  FallbackHandler,
  errorRecovery
} from '@/utils/error-handler';

// åˆ›å»ºæ¶æ„åŒ–é”™è¯¯
const error = new ArchitectureError(
  'Network request failed',
  'NETWORK_ERROR',
  'NET_001',
  true // å¯é‡è¯•
);

// é”™è¯¯åˆ†ç±»
const classified = classifyError(new Error('timeout'));
console.log(classified.type); // 'TIMEOUT_ERROR'

// å¸¦è¶…æ—¶çš„fetch
const response = await fetchWithTimeout(
  'https://api.example.com',
  { method: 'GET' },
  5000 // 5ç§’è¶…æ—¶
);

// å¸¦é‡è¯•çš„å‡½æ•°
const result = await withRetry(
  async () => {
    const response = await fetch('https://api.example.com');
    return response.json();
  },
  3, // æœ€å¤§é‡è¯•æ¬¡æ•°
  1000 // åŸºç¡€å»¶è¿Ÿ(ms)
);

// é™çº§å¤„ç†
const fallback = new FallbackHandler();
fallback.addFallback(() => fetch('https://primary-api.com'));
fallback.addFallback(() => fetch('https://backup-api.com'));

const data = await fallback.executeWithFallbacks();

// é”™è¯¯æ¢å¤
errorRecovery.recordError('api-request', classified);
const stats = errorRecovery.getErrorStats('api-request');
```

### é€šç”¨å·¥å…·å‡½æ•°

```typescript
import {
  generateId,
  deepClone,
  debounce,
  throttle,
  formatCurrency,
  formatDate,
  isEmpty,
  safeJsonParse,
  delay,
  retry,
  generateRandomString,
  getEnvVar,
  isValidEmail,
  isValidUrl,
  removeEmptyValues
} from '@/utils/helpers';

// IDç”Ÿæˆ
const userId = generateId('user'); // 'user_1640995200000_abc123def'

// æ·±åº¦å…‹éš†
const cloned = deepComplex(originalObject);

// é˜²æŠ–å’ŒèŠ‚æµ
const debouncedSearch = debounce(searchFunction, 300);
const throttledScroll = throttle(scrollHandler, 100);

// æ ¼å¼åŒ–
const price = formatCurrency(99.99, 'USD'); // '$99.99'
const date = formatDate(new Date(), 'zh-CN'); // '2024/1/1'

// éªŒè¯
const isEmptyObj = isEmpty({}); // true
const isValid = isValidEmail('user@example.com'); // true
const isUrl = isValidUrl('https://example.com'); // true

// å®‰å…¨æ“ä½œ
const parsed = safeJsonParse(jsonString, defaultValue);
await delay(1000); // ç­‰å¾…1ç§’

// ç¯å¢ƒå˜é‡
const apiKey = getEnvVar('API_KEY', 'default-value');

// æ•°æ®æ¸…ç†
const clean = removeEmptyValues({
  name: 'John',
  email: '',
  phone: null
});
// { name: 'John' }
```

---

## å·¥å‚å‡½æ•° (Factory)

### ä¸»è¦æ¥å£

#### `createModularArchitecture(options)`

åˆ›å»ºå®Œæ•´çš„æ¨¡å—åŒ–æ¶æ„å®ä¾‹ã€‚

```typescript
import {
  createModularArchitecture,
  ModularArchitecture,
  CreateArchitectureOptions
} from '@/factory';

const options: CreateArchitectureOptions = {
  region: DeploymentRegion.INTL,
  database: {
    provider: 'supabase',
    url: 'https://your-project.supabase.co',
    anonKey: 'your-anon-key'
  },
  auth: {
    provider: 'supabase',
    features: {
      emailAuth: true,
      googleAuth: true,
      githubAuth: true
    }
  },
  payment: {
    providers: ['stripe', 'paypal']
  },
  enableGDPR: true,
  autoInitialize: true
};

const architecture: ModularArchitecture = createModularArchitecture(options);
```

#### å¿«é€Ÿå¯åŠ¨é¢„è®¾

```typescript
import { quickStart, presets } from '@/factory';

// ä½¿ç”¨é¢„è®¾
const chinaApp = quickStart.china();
const intlApp = quickStart.international();
const europeApp = quickStart.europe();
const devApp = quickStart.development();

// è‡ªå®šä¹‰é¢„è®¾
const customPreset = {
  region: DeploymentRegion.CN,
  database: { provider: 'cloudbase' },
  auth: {
    provider: 'cloudbase',
    features: { emailAuth: true, wechatAuth: true }
  },
  payment: { providers: ['alipay'] }
};

const customApp = createModularArchitecture(customPreset);
```

#### å¥åº·æ£€æŸ¥

```typescript
import { healthCheck } from '@/factory';

const health = await healthCheck(architecture);

if (!health.healthy) {
  console.error('æ¶æ„å¥åº·æ£€æŸ¥å¤±è´¥:');
  health.checks.forEach(check => {
    if (check.status === 'fail') {
      console.error(`${check.name}: ${check.error}`);
    }
  });
}

// å¥åº·æ£€æŸ¥ç»“æœæ¥å£
interface HealthResult {
  healthy: boolean;
  checks: Array<{
    name: string;
    status: 'pass' | 'fail';
    error?: string;
  }>;
}
```

#### è¿ç§»å·¥å…·

```typescript
import { migration } from '@/factory';

// ä»æ—§é…ç½®è¿ç§»
const newConfig = migration.fromLegacyConfig(legacyConfig);

// éªŒè¯é…ç½®å…¼å®¹æ€§
const compatibility = migration.validateCompatibility(config);
if (!compatibility.valid) {
  console.warn('å…¼å®¹æ€§è­¦å‘Š:', compatibility.warnings);
}
```

### å®Œæ•´æ¶æ„æ¥å£

```typescript
interface ModularArchitecture {
  config: ArchitectureConfig;
  auth: AuthAdapter;
  geo: GeoRouter;
  database: DatabaseConnector;
  payment: PaymentRouter;
  compliance?: GDPRComplianceManager;
}
```

---

## ç±»å‹å®šä¹‰

### æ ¸å¿ƒç±»å‹

```typescript
// éƒ¨ç½²åŒºåŸŸ
enum DeploymentRegion {
  CN = 'CN',      // ä¸­å›½
  INTL = 'INTL'   // å›½é™…
}

// åœ°ç†åŒºåŸŸ
enum RegionType {
  CHINA = 'CHINA',
  USA = 'USA',
  EUROPE = 'EUROPE',
  INDIA = 'INDIA',
  SINGAPORE = 'SINGAPORE',
  OTHER = 'OTHER'
}

// ç”¨æˆ·ç±»å‹
interface User {
  id: string;
  email?: string;
  metadata?: Record<string, any>;
  createdAt: Date;
  updatedAt: Date;
}

// è®¤è¯å“åº”
interface AuthResponse {
  user?: User | null;
  session?: AuthSession | null;
  error?: Error | null;
}

// è®¤è¯ä¼šè¯
interface AuthSession {
  access_token: string;
  refresh_token?: string;
  expires_at?: number;
  user: User;
}
```

### æ•°æ®åº“ç±»å‹

```typescript
// æ•°æ®åº“é…ç½®
interface DatabaseConfig {
  type: 'supabase' | 'cloudbase';
  url?: string;
  anonKey?: string;
  envId?: string;
  [key: string]: any;
}

// æ¶æ„é…ç½®
interface ArchitectureConfig {
  region: DeploymentRegion;
  database: DatabaseConfig;
  auth: {
    provider: 'supabase' | 'cloudbase';
    features: Record<string, boolean>;
  };
  payment: {
    providers: string[];
  };
}
```

### æ”¯ä»˜ç±»å‹

```typescript
// æ”¯ä»˜è®¢å•
interface PaymentOrder {
  amount: number;
  currency: string;
  description: string;
  userId: string;
  planType: string;
  billingCycle: 'monthly' | 'yearly';
  metadata?: Record<string, any>;
}

// æ”¯ä»˜ç»“æœ
interface PaymentResult {
  success: boolean;
  paymentId?: string;
  paymentUrl?: string;
  error?: string;
  provider?: string;
}
```

---

## ğŸ”§ é”™è¯¯å¤„ç†

æ‰€æœ‰æ¨¡å—éƒ½éµå¾ªç»Ÿä¸€çš„é”™è¯¯å¤„ç†æ¨¡å¼ï¼š

```typescript
// ArchitectureError - ç»Ÿä¸€çš„é”™è¯¯ç±»å‹
try {
  const result = await someModule.doSomething();
} catch (error) {
  if (error instanceof ArchitectureError) {
    console.error('é”™è¯¯ç±»å‹:', error.type);
    console.error('é”™è¯¯ä»£ç :', error.code);
    console.error('æ˜¯å¦å¯é‡è¯•:', error.retryable);
  }
}

// é”™è¯¯æ¢å¤
import { withRetry } from '@/utils/error-handler';

const result = await withRetry(
  async () => await riskyOperation(),
  3, // æœ€å¤§é‡è¯•æ¬¡æ•°
  1000 // åŸºç¡€å»¶è¿Ÿ
);
```

---

## ğŸ“ ä½¿ç”¨æœ€ä½³å®è·µ

1. **ç±»å‹å®‰å…¨**: æ€»æ˜¯ä½¿ç”¨TypeScriptç±»å‹å®šä¹‰
2. **é”™è¯¯å¤„ç†**: ä½¿ç”¨ç»Ÿä¸€çš„ArchitectureErrorå’ŒwithRetry
3. **ç¯å¢ƒé…ç½®**: ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†æ•æ„Ÿä¿¡æ¯
4. **æµ‹è¯•**: ä¸ºè‡ªå®šä¹‰åŠŸèƒ½ç¼–å†™å•å…ƒæµ‹è¯•
5. **æ—¥å¿—**: ä½¿ç”¨é€‚å½“çš„æ—¥å¿—çº§åˆ«å’Œç»“æ„åŒ–æ—¥å¿—
6. **æ€§èƒ½**: ä½¿ç”¨é˜²æŠ–ã€èŠ‚æµç­‰å·¥å…·ä¼˜åŒ–æ€§èƒ½
7. **å®‰å…¨**: éµå¾ªå„æ¨¡å—çš„å®‰å…¨æœ€ä½³å®è·µ

---

## ğŸ†˜ è·å–å¸®åŠ©

- **å®Œæ•´æ–‡æ¡£**: æŸ¥çœ‹ `REUSE_GUIDE.md`
- **å¿«é€Ÿå¼€å§‹**: æŸ¥çœ‹ `QUICK_START.md`
- **ç¤ºä¾‹ä»£ç **: æŸ¥çœ‹ `src/__tests__/` ç›®å½•
- **ç±»å‹å®šä¹‰**: æŸ¥çœ‹ `src/core/types.ts`

éœ€è¦æ›´å¤šä¿¡æ¯æˆ–é‡åˆ°é—®é¢˜ï¼Ÿè¯·å‚è€ƒç›¸å…³æ¨¡å—çš„å•å…ƒæµ‹è¯•äº†è§£å…·ä½“ç”¨æ³•ã€‚